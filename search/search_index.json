{"config":{"lang":["fr"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"pypmsi : lire des fichiers PMSI avec python / pola.rs","text":"<p>Lire les fichiers du PMSI avec python / pola.rs</p> <p></p>"},{"location":"#installation","title":"Installation","text":"<pre><code>git clone https://github.com/GuillaumePressiat/pypmsi.git\npoetry install\n</code></pre> <p>avec pip</p> <pre><code>pip install https://github.com/GuillaumePressiat/pypmsi/releases/latest/download/pypmsi-0.2.9-py3-none-any.whl\n</code></pre>"},{"location":"#exemple","title":"Exemple","text":""},{"location":"#contexte-introductif","title":"Contexte introductif","text":"<p>Le PMSI, programme de m\u00e9dicalisation des syst\u00e8mes d'information, repose sur l'envoi par les \u00e9tablissements de sant\u00e9 de fichiers anonymis\u00e9s \u00e0 l'ATIH (agence technique de l'information sur l'hospitalisation). Ces fichiers respectent des formats dits minist\u00e9riels qui \u00e9voluent d'ann\u00e9e en ann\u00e9e.</p> <p>Ces fichiers contiennent beaucoup de donn\u00e9es qui sont utiles dans les h\u00f4pitaux pour :</p> <ul> <li>d\u00e9crire l'activit\u00e9 de l'h\u00f4pital tant sur un volet prise en charge (diagnostics : CIM-10 et autres, actes m\u00e9dicaux/techniques : CCAM, CSARR) que sur un volet m\u00e9dico-\u00e9conomique (GHM, GHS, GME, GMT), ce domaine est vaste</li> <li>analyser les parcours de soins des patients au sein d'un groupement hospitalier (entre diff\u00e9rentes disciplines, champs d'activit\u00e9 MCO, SSR, Psy, HAD)</li> <li>constituer un entrep\u00f4t de donn\u00e9es PMSI fig\u00e9es dans le temps et d\u00e9corr\u00e9l\u00e9es de la donn\u00e9e de production \u00e0 l'\u00e9chelle d'un groupement hospitalier, que l'on peut utiliser comme bassin de donn\u00e9es pour la recherche mais aussi pour alimenter un syst\u00e8me d'information d\u00e9cisionnel</li> </ul> <p>Ces donn\u00e9es sont donc pertinentes pour de multiples acteurs dans l'h\u00f4pital (m\u00e9decins, chercheurs, statisticiens, d\u00e9cideurs, administratifs).</p>"},{"location":"Imports/noyau/","title":"Noyau de param\u00e8tres","text":""},{"location":"Imports/noyau/#3-manieres-de-lire-un-fichier","title":"3 mani\u00e8res de lire un fichier","text":""},{"location":"Imports/noyau/#specifier-les-parametres-dans-la-fonction","title":"Sp\u00e9cifier les param\u00e8tres dans la fonction","text":"<pre><code>rsa = pm.irsa(\n    290000017, \n    2021,\n    5, \n    '~/Documents/data/mco', \n    typi = 4)\nrsa\n</code></pre>"},{"location":"Imports/noyau/#definir-un-noyau-de-parametres","title":"D\u00e9finir un noyau de param\u00e8tres","text":"<pre><code>p = pm.noyau_pmsi(\n    finess = 290000017, \n    annee = 2021, \n    mois = 5, \n    path = '~/Documents/data/mco')\n\nrsa = p.irsa()\nrsa\n</code></pre>"},{"location":"Imports/noyau/#indiquer-le-chemin-du-fichier-et-lannee-et-le-lire","title":"indiquer le chemin du fichier et l'ann\u00e9e, et le lire","text":"<pre><code>mon_rsa = pm.chemin_pmsi(\n    filepath = '~/Documents/data/mco/290000017.2021.5.rsa', \n    annee = 2021)\n\nrsa = mon_rsa.read_rsa()\nrsa\n</code></pre> <p>(du coup le nom du fichier peut-\u00eatre format\u00e9 diff\u00e9rement).</p> <p>On peut modifier en ligne les param\u00e8tres, exemple :</p> <pre><code>p = pm.noyau_pmsi(\n    finess = 290000017, \n    annee = 2021, \n    mois = 12, \n    path = '~/Documents/data/mco')\n\n# lire les donn\u00e9es 2022\nrsa = p.irsa(annee = 2022)\nrsa\n</code></pre>"},{"location":"Imports/HAD/iano/","title":"ANO-HOSP","text":"<p>Lecture des fichiers ano et anohosp, contenant les informations de facturations anonymis\u00e9es.</p>"},{"location":"Imports/HAD/iano/#syntaxe","title":"Syntaxe","text":"<pre><code>iano_had(\n    finess, \n    annee : int, \n    mois : int, \n    path : str, \n    typano : str, \n    filepath = \"\", \n    n_rows = None)\n</code></pre>"},{"location":"Imports/HAD/iano/#types-dimports","title":"Types d'imports","text":"<p>Le param\u00e8tre <code>typano</code> permet de choisir le type d'import entre les fichiers du in ou du out. </p>"},{"location":"Imports/HAD/iano/#parametres","title":"Param\u00e8tres","text":"<ul> <li>finess : le finess juridique du fichier ano/anohosp</li> <li>annee : l'ann\u00e9e de la p\u00e9riode PMSI</li> <li>mois  : le mois de la p\u00e9riode PMSI</li> <li>path : le repertoire d'acc\u00e8s au fichier</li> <li>typano : le type de fichier (in / out)</li> <li>filepath : chemin du fichier compl\u00e9mentaire si import d'un fichier direct sans les autres param\u00e8tres</li> <li>n_rows : nombre de lignes si import limit\u00e9</li> </ul>"},{"location":"Imports/HAD/imed/","title":"MED","text":"<p>Lecture des fichiers MED, DMI, m\u00e9dicaments dans le champ HAD</p>"},{"location":"Imports/HAD/imed/#syntaxe","title":"Syntaxe","text":"<pre><code>imed_had(\n    finess, \n    annee : int, \n    mois : int, \n    path : str, \n    typmed : str, \n    filepath = \"\", \n    n_rows = None)\n</code></pre>"},{"location":"Imports/HAD/imed/#types-dimports","title":"Types d'imports","text":"<p>Le param\u00e8tre <code>typmed</code> permet de choisir le type d'import entre les fichiers du in ou du out. </p>"},{"location":"Imports/HAD/imed/#parametres","title":"Param\u00e8tres","text":"<ul> <li>finess : le finess juridique des fichiers compl\u00e9mentaires</li> <li>annee : l'ann\u00e9e de la p\u00e9riode PMSI</li> <li>mois  : le mois de la p\u00e9riode PMSI</li> <li>path : le repertoire d'acc\u00e8s au fichier</li> <li>typmed/typdmi : le type de fichier (in / out)</li> <li>filepath : chemin du fichier compl\u00e9mentaire si import d'un fichier direct sans les autres param\u00e8tres</li> <li>n_rows : nombre de lignes si import limit\u00e9</li> </ul>"},{"location":"Imports/HAD/irapss/","title":"RAPSS","text":"<p>Lecture des fichiers RAPSS depuis 2011, r\u00e9sum\u00e9s anonymis\u00e9s par sous-s\u00e9quence.</p>"},{"location":"Imports/HAD/irapss/#syntaxe","title":"Syntaxe","text":"<pre><code>irapss(\n    finess, \n    annee : int, \n    mois : int, \n    path : str, \n    filepath = \"\", \n    n_rows = None)\n</code></pre>"},{"location":"Imports/HAD/irapss/#parametres","title":"Param\u00e8tres","text":"<ul> <li>finess : le finess juridique du fichier rapss</li> <li>annee : l'ann\u00e9e de la p\u00e9riode PMSI</li> <li>mois  : le mois de la p\u00e9riode PMSI</li> <li>path : le repertoire d'acc\u00e8s au fichier</li> <li>filepath : chemin du fichier rsa si import d'un fichier direct sans les autres param\u00e8tres</li> <li>n_rows : nombre de lignes si import limit\u00e9</li> </ul>"},{"location":"Imports/HAD/irpss/","title":"RPSS","text":"<p>Lecture des fichiers RPSS depuis 2011, r\u00e9sum\u00e9s par sous-s\u00e9quence.</p>"},{"location":"Imports/HAD/irpss/#syntaxe","title":"Syntaxe","text":"<pre><code>irpss(\n    finess, \n    annee : int, \n    mois : int, \n    path : str, \n    filepath = \"\", \n    n_rows = None)\n</code></pre>"},{"location":"Imports/HAD/irpss/#parametres","title":"Param\u00e8tres","text":"<ul> <li>finess : le finess juridique du fichier rpss</li> <li>annee : l'ann\u00e9e de la p\u00e9riode PMSI</li> <li>mois  : le mois de la p\u00e9riode PMSI</li> <li>path : le repertoire d'acc\u00e8s au fichier</li> <li>filepath : chemin du fichier rss si import d'un fichier direct sans les autres param\u00e8tres</li> <li>n_rows : nombre de lignes si import limit\u00e9</li> </ul>"},{"location":"Imports/MCO/iano/","title":"ANO-HOSP","text":"<p>Lecture des fichiers ano et anohosp, contenant les informations de facturations anonymis\u00e9es.</p>"},{"location":"Imports/MCO/iano/#syntaxe","title":"Syntaxe","text":"<pre><code>iano_mco(\n    finess, \n    annee : int, \n    mois : int, \n    path : str, \n    typano : str, \n    filepath = \"\", \n    n_rows = None)\n</code></pre>"},{"location":"Imports/MCO/iano/#types-dimports","title":"Types d'imports","text":"<p>Le param\u00e8tre <code>typano</code> permet de choisir le type d'import entre les fichiers du in ou du out. </p>"},{"location":"Imports/MCO/iano/#parametres","title":"Param\u00e8tres","text":"<ul> <li>finess : le finess juridique du fichier ano/anohosp</li> <li>annee : l'ann\u00e9e de la p\u00e9riode PMSI</li> <li>mois  : le mois de la p\u00e9riode PMSI</li> <li>path : le repertoire d'acc\u00e8s au fichier</li> <li>typano : le type de fichier (in / out)</li> <li>filepath : chemin du fichier compl\u00e9mentaire si import d'un fichier direct sans les autres param\u00e8tres</li> <li>n_rows : nombre de lignes si import limit\u00e9</li> </ul>"},{"location":"Imports/MCO/imed/","title":"MED / DMI","text":"<p>Lecture des fichiers MED, DMI, m\u00e9dicaments et dispositifs m\u00e9dicaux implantables</p>"},{"location":"Imports/MCO/imed/#syntaxe","title":"Syntaxe","text":"<pre><code>imed_mco(\n    finess, \n    annee : int, \n    mois : int, \n    path : str, \n    typmed : str, \n    filepath = \"\", \n    n_rows = None)\n</code></pre> <pre><code>idmi_mco(\n    finess, \n    annee : int, \n    mois : int, \n    path : str, \n    typdmi : str, \n    filepath = \"\", \n    n_rows = None)\n</code></pre>"},{"location":"Imports/MCO/imed/#types-dimports","title":"Types d'imports","text":"<p>Le param\u00e8tre <code>typ(med|dmi)</code> permet de choisir le type d'import entre les fichiers du in ou du out. </p>"},{"location":"Imports/MCO/imed/#parametres","title":"Param\u00e8tres","text":"<ul> <li>finess : le finess juridique des fichiers compl\u00e9mentaires</li> <li>annee : l'ann\u00e9e de la p\u00e9riode PMSI</li> <li>mois  : le mois de la p\u00e9riode PMSI</li> <li>path : le repertoire d'acc\u00e8s au fichier</li> <li>typmed/typdmi : le type de fichier (in / out)</li> <li>filepath : chemin du fichier compl\u00e9mentaire si import d'un fichier direct sans les autres param\u00e8tres</li> <li>n_rows : nombre de lignes si import limit\u00e9</li> </ul>"},{"location":"Imports/MCO/irsa/","title":"RSA","text":"<p>Lecture des fichiers RSA depuis 2011, r\u00e9sum\u00e9s de sorties anonymis\u00e9s.</p>"},{"location":"Imports/MCO/irsa/#syntaxe","title":"Syntaxe","text":"<pre><code>irsa(\n    finess, \n    annee : int, \n    mois : int, \n    path : str, \n    typi : int = 4, \n    tdiag : bool = True, \n    filepath = \"\", \n    n_rows = None)\n</code></pre>"},{"location":"Imports/MCO/irsa/#types-dimports","title":"Types d'imports","text":"<p>Le param\u00e8tre <code>typi</code> permet de choisir le type d'import entre : </p> <p>6 types d'imports (typi)</p> <ul> <li>1 : partie fixe uniquement</li> <li>2 : partie fixe + zones streams actes, das</li> <li>3 : partie fixe + zones streams actes, das, dpum, drum, typaut</li> <li>4 : partie fixe + parties variables</li> <li>5 : partie fixe + parties variables + zones streams actes, das</li> <li>6 : partie fixe + parties variables + zones streams actes, das, dpum, drum, typaut</li> </ul> <p>4 est l'import par d\u00e9faut.</p>"},{"location":"Imports/MCO/irsa/#parametres","title":"Param\u00e8tres","text":"<ul> <li>finess : le finess juridique du fichier rsa</li> <li>annee : l'ann\u00e9e de la p\u00e9riode PMSI</li> <li>mois  : le mois de la p\u00e9riode PMSI</li> <li>path : le repertoire d'acc\u00e8s au fichier</li> <li>typi : le type d'import</li> <li>tdiag : les diagnostics doivent-ils \u00eatre \"rang\u00e9s dans une table unique\"</li> <li>filepath : chemin du fichier rsa si import d'un fichier direct sans les autres param\u00e8tres</li> <li>n_rows : nombre de lignes si import limit\u00e9</li> </ul>"},{"location":"Imports/MCO/irsf/","title":"RSF","text":"<p>Lecture des fichiers RSF, r\u00e9sum\u00e9s standardis\u00e9s de facturation.</p>"},{"location":"Imports/MCO/irsf/#syntaxe","title":"Syntaxe","text":"<pre><code>irsf(\n    finess, \n    annee : int, \n    mois : int, \n    path : str, \n    ini : bool,\n    filepath = \"\", \n    n_rows = None)\n</code></pre>"},{"location":"Imports/MCO/irsf/#parametres","title":"Param\u00e8tres","text":"<ul> <li>finess : le finess juridique du fichier rsf</li> <li>annee : l'ann\u00e9e de la p\u00e9riode PMSI</li> <li>mois  : le mois de la p\u00e9riode PMSI</li> <li>path : le repertoire d'acc\u00e8s au fichier</li> <li>ini : si vrai, on lit le fichier en entr\u00e9e de preface sans r\u00e9indexation des num\u00e9ros s\u00e9quentiels de factures</li> <li>filepath : chemin du fichier compl\u00e9mentaire si import d'un fichier direct sans les autres param\u00e8tres</li> <li>n_rows : nombre de lignes si import limit\u00e9</li> </ul>"},{"location":"Imports/MCO/irsfa/","title":"RSFA","text":"<p>Lecture des fichiers RSFA, r\u00e9sum\u00e9s standardis\u00e9s de facturation anonymis\u00e9s contenant les RAFAEL, r\u00e9sum\u00e9s anonymis\u00e9s de facturation des actes et consultations externes li\u00e9s (RSF-ACE).</p>"},{"location":"Imports/MCO/irsfa/#syntaxe","title":"Syntaxe","text":"<pre><code>irsfa(\n    finess, \n    annee : int, \n    mois : int, \n    path : str, \n    filepath = \"\", \n    n_rows = None)\n</code></pre>"},{"location":"Imports/MCO/irsfa/#parametres","title":"Param\u00e8tres","text":"<ul> <li>finess : le finess juridique du fichier RSFA (rafael)</li> <li>annee : l'ann\u00e9e de la p\u00e9riode PMSI</li> <li>mois  : le mois de la p\u00e9riode PMSI</li> <li>path : le repertoire d'acc\u00e8s au fichier</li> <li>filepath : chemin du fichier compl\u00e9mentaire si import d'un fichier direct sans les autres param\u00e8tres</li> <li>n_rows : nombre de lignes si import limit\u00e9</li> </ul>"},{"location":"Imports/MCO/irum/","title":"RUM / RSS","text":"<p>Lecture des fichiers RSS depuis 2012, r\u00e9sum\u00e9s de sorties standardis\u00e9s, contenant le d\u00e9tail des r\u00e9sum\u00e9s d'unit\u00e9s m\u00e9dicales.</p>"},{"location":"Imports/MCO/irum/#syntaxe","title":"Syntaxe","text":"<pre><code>irum(\n    finess, \n    annee : int, \n    mois : int, \n    path : str, \n    typi : int = 4, \n    tdiag : bool = True, \n    filepath = \"\", \n    n_rows = None)\n</code></pre>"},{"location":"Imports/MCO/irum/#types-dimports","title":"Types d'imports","text":"<p>Le param\u00e8tre <code>typi</code> permet de choisir le type d'import entre : </p> <p>4 types d'imports (typi)</p> <ul> <li>1 : partie fixe uniquement</li> <li>2 : partie fixe + zones streams actes, das</li> <li>3 : partie fixe + parties variables</li> <li>4 : partie fixe + parties variables + zones streams actes, das</li> </ul> <p>3 est l'import par d\u00e9faut.</p>"},{"location":"Imports/MCO/irum/#parametres","title":"Param\u00e8tres","text":"<ul> <li>finess : le finess juridique du fichier rss</li> <li>annee : l'ann\u00e9e de la p\u00e9riode PMSI</li> <li>mois  : le mois de la p\u00e9riode PMSI</li> <li>path : le repertoire d'acc\u00e8s au fichier</li> <li>typi : le type d'import</li> <li>tdiag : les diagnostics doivent-ils \u00eatre \"rang\u00e9s dans une table unique\"</li> <li>filepath : chemin du fichier rss si import d'un fichier direct sans les autres param\u00e8tres</li> <li>n_rows : nombre de lignes si import limit\u00e9</li> </ul>"},{"location":"Imports/Psy/iano/","title":"ANO-HOSP","text":"<p>Lecture des fichiers ano et anohosp, contenant les informations de facturations anonymis\u00e9es.</p>"},{"location":"Imports/Psy/iano/#syntaxe","title":"Syntaxe","text":"<pre><code>iano_psy(\n    finess, \n    annee : int, \n    mois : int, \n    path : str, \n    typano : str, \n    filepath = \"\", \n    n_rows = None)\n</code></pre>"},{"location":"Imports/Psy/iano/#types-dimports","title":"Types d'imports","text":"<p>Le param\u00e8tre <code>typano</code> permet de choisir le type d'import entre les fichiers du in ou du out. </p>"},{"location":"Imports/Psy/iano/#parametres","title":"Param\u00e8tres","text":"<ul> <li>finess : le finess juridique du fichier ano/anohosp</li> <li>annee : l'ann\u00e9e de la p\u00e9riode PMSI</li> <li>mois  : le mois de la p\u00e9riode PMSI</li> <li>path : le repertoire d'acc\u00e8s au fichier</li> <li>typano : le type de fichier (in / out)</li> <li>filepath : chemin du fichier compl\u00e9mentaire si import d'un fichier direct sans les autres param\u00e8tres</li> <li>n_rows : nombre de lignes si import limit\u00e9</li> </ul>"},{"location":"Imports/Psy/ir3a/","title":"R3A","text":"<p>Lecture des fichiers R3A depuis 2011, r\u00e9sum\u00e9s d'activit\u00e9 ambulatoire anonymis\u00e9s.</p>"},{"location":"Imports/Psy/ir3a/#syntaxe","title":"Syntaxe","text":"<pre><code>iraa(\n    finess, \n    annee : int, \n    mois : int, \n    path : str, \n    typi : int = 4, \n    tdiag : bool = True, \n    filepath = \"\", \n    n_rows = None)\n</code></pre>"},{"location":"Imports/Psy/ir3a/#types-dimports","title":"Types d'imports","text":"<p>Le param\u00e8tre <code>typi</code> permet de choisir le type d'import entre : </p> <p>4 types d'imports (typi)</p> <ul> <li>1 : partie fixe uniquement</li> <li>2 : partie fixe + zones streams actes, das</li> <li>3 : partie fixe + parties variables</li> <li>4 : partie fixe + parties variables + zones streams actes, das</li> </ul> <p>3 est l'import par d\u00e9faut.</p>"},{"location":"Imports/Psy/ir3a/#parametres","title":"Param\u00e8tres","text":"<ul> <li>finess : le finess juridique du fichier r3a</li> <li>annee : l'ann\u00e9e de la p\u00e9riode PMSI</li> <li>mois  : le mois de la p\u00e9riode PMSI</li> <li>path : le repertoire d'acc\u00e8s au fichier</li> <li>typi : le type d'import</li> <li>tdiag : les diagnostics doivent-ils \u00eatre \"rang\u00e9s dans une table unique\"</li> <li>filepath : chemin du fichier rss si import d'un fichier direct sans les autres param\u00e8tres</li> <li>n_rows : nombre de lignes si import limit\u00e9</li> </ul>"},{"location":"Imports/Psy/iraa/","title":"RAA","text":"<p>Lecture des fichiers RAA depuis 2011, r\u00e9sum\u00e9s d'activit\u00e9 ambulatoire.</p>"},{"location":"Imports/Psy/iraa/#syntaxe","title":"Syntaxe","text":"<pre><code>iraa(\n    finess, \n    annee : int, \n    mois : int, \n    path : str, \n    typi : int = 4, \n    tdiag : bool = True, \n    filepath = \"\", \n    n_rows = None)\n</code></pre>"},{"location":"Imports/Psy/iraa/#types-dimports","title":"Types d'imports","text":"<p>Le param\u00e8tre <code>typi</code> permet de choisir le type d'import entre : </p> <p>4 types d'imports (typi)</p> <ul> <li>1 : partie fixe uniquement</li> <li>2 : partie fixe + zones streams actes, das</li> <li>3 : partie fixe + parties variables</li> <li>4 : partie fixe + parties variables + zones streams actes, das</li> </ul> <p>3 est l'import par d\u00e9faut.</p>"},{"location":"Imports/Psy/iraa/#parametres","title":"Param\u00e8tres","text":"<ul> <li>finess : le finess juridique du fichier raa (rpa)</li> <li>annee : l'ann\u00e9e de la p\u00e9riode PMSI</li> <li>mois  : le mois de la p\u00e9riode PMSI</li> <li>path : le repertoire d'acc\u00e8s au fichier</li> <li>typi : le type d'import</li> <li>tdiag : les diagnostics doivent-ils \u00eatre \"rang\u00e9s dans une table unique\"</li> <li>filepath : chemin du fichier rss si import d'un fichier direct sans les autres param\u00e8tres</li> <li>n_rows : nombre de lignes si import limit\u00e9</li> </ul>"},{"location":"Imports/Psy/irps/","title":"RPS","text":"<p>Lecture des fichiers RPS depuis 2011, r\u00e9sum\u00e9s par s\u00e9quence, contenant le d\u00e9tail des r\u00e9sum\u00e9s d'unit\u00e9s m\u00e9dicales trimestriels ou mensuels.</p>"},{"location":"Imports/Psy/irps/#syntaxe","title":"Syntaxe","text":"<pre><code>irps(\n    finess, \n    annee : int, \n    mois : int, \n    path : str, \n    typi : int = 4, \n    tdiag : bool = True, \n    filepath = \"\", \n    n_rows = None)\n</code></pre>"},{"location":"Imports/Psy/irps/#types-dimports","title":"Types d'imports","text":"<p>Le param\u00e8tre <code>typi</code> permet de choisir le type d'import entre : </p> <p>4 types d'imports (typi)</p> <ul> <li>1 : partie fixe uniquement</li> <li>2 : partie fixe + zones streams actes, das</li> <li>3 : partie fixe + parties variables</li> <li>4 : partie fixe + parties variables + zones streams actes, das</li> </ul> <p>3 est l'import par d\u00e9faut.</p>"},{"location":"Imports/Psy/irps/#parametres","title":"Param\u00e8tres","text":"<ul> <li>finess : le finess juridique du fichier rps</li> <li>annee : l'ann\u00e9e de la p\u00e9riode PMSI</li> <li>mois  : le mois de la p\u00e9riode PMSI</li> <li>path : le repertoire d'acc\u00e8s au fichier</li> <li>typi : le type d'import</li> <li>tdiag : les diagnostics doivent-ils \u00eatre \"rang\u00e9s dans une table unique\"</li> <li>filepath : chemin du fichier rss si import d'un fichier direct sans les autres param\u00e8tres</li> <li>n_rows : nombre de lignes si import limit\u00e9</li> </ul>"},{"location":"Imports/Psy/irpsa/","title":"RPSA","text":"<p>Lecture des fichiers RPSA depuis 2011, r\u00e9sum\u00e9s par s\u00e9quence anonymis\u00e9s.</p>"},{"location":"Imports/Psy/irpsa/#syntaxe","title":"Syntaxe","text":"<pre><code>irpsa(\n    finess, \n    annee : int, \n    mois : int, \n    path : str, \n    typi : int = 4, \n    tdiag : bool = True, \n    filepath = \"\", \n    n_rows = None)\n</code></pre>"},{"location":"Imports/Psy/irpsa/#types-dimports","title":"Types d'imports","text":"<p>Le param\u00e8tre <code>typi</code> permet de choisir le type d'import entre : </p> <p>4 types d'imports (typi)</p> <ul> <li>1 : partie fixe uniquement</li> <li>2 : partie fixe + zones streams actes, das</li> <li>3 : partie fixe + parties variables</li> <li>4 : partie fixe + parties variables + zones streams actes, das</li> </ul> <p>3 est l'import par d\u00e9faut.</p>"},{"location":"Imports/Psy/irpsa/#parametres","title":"Param\u00e8tres","text":"<ul> <li>finess : le finess juridique du fichier rpsa</li> <li>annee : l'ann\u00e9e de la p\u00e9riode PMSI</li> <li>mois  : le mois de la p\u00e9riode PMSI</li> <li>path : le repertoire d'acc\u00e8s au fichier</li> <li>typi : le type d'import</li> <li>tdiag : les diagnostics doivent-ils \u00eatre \"rang\u00e9s dans une table unique\"</li> <li>filepath : chemin du fichier rsa si import d'un fichier direct sans les autres param\u00e8tres</li> <li>n_rows : nombre de lignes si import limit\u00e9</li> </ul>"},{"location":"Imports/SSR/iano/","title":"ANO-HOSP","text":"<p>Lecture des fichiers ano et anohosp, contenant les informations de facturations anonymis\u00e9es.</p>"},{"location":"Imports/SSR/iano/#syntaxe","title":"Syntaxe","text":"<pre><code>iano_ssr(\n    finess, \n    annee : int, \n    mois : int, \n    path : str, \n    typano : str, \n    filepath = \"\", \n    n_rows = None)\n</code></pre>"},{"location":"Imports/SSR/iano/#types-dimports","title":"Types d'imports","text":"<p>Le param\u00e8tre <code>typano</code> permet de choisir le type d'import entre les fichiers du in ou du out. </p>"},{"location":"Imports/SSR/iano/#parametres","title":"Param\u00e8tres","text":"<ul> <li>finess : le finess juridique du fichier ano/anohosp</li> <li>annee : l'ann\u00e9e de la p\u00e9riode PMSI</li> <li>mois  : le mois de la p\u00e9riode PMSI</li> <li>path : le repertoire d'acc\u00e8s au fichier</li> <li>typano : le type de fichier (in / out)</li> <li>filepath : chemin du fichier compl\u00e9mentaire si import d'un fichier direct sans les autres param\u00e8tres</li> <li>n_rows : nombre de lignes si import limit\u00e9</li> </ul>"},{"location":"Imports/SSR/imed/","title":"MED","text":"<p>Lecture des fichiers MED, DMI, m\u00e9dicaments dans le champ SSR</p>"},{"location":"Imports/SSR/imed/#syntaxe","title":"Syntaxe","text":"<pre><code>imed_ssr(\n    finess, \n    annee : int, \n    mois : int, \n    path : str, \n    typmed : str, \n    filepath = \"\", \n    n_rows = None)\n</code></pre>"},{"location":"Imports/SSR/imed/#types-dimports","title":"Types d'imports","text":"<p>Le param\u00e8tre <code>typmed</code> permet de choisir le type d'import entre les fichiers du in ou du out. </p>"},{"location":"Imports/SSR/imed/#parametres","title":"Param\u00e8tres","text":"<ul> <li>finess : le finess juridique des fichiers compl\u00e9mentaires</li> <li>annee : l'ann\u00e9e de la p\u00e9riode PMSI</li> <li>mois  : le mois de la p\u00e9riode PMSI</li> <li>path : le repertoire d'acc\u00e8s au fichier</li> <li>typmed/typdmi : le type de fichier (in / out)</li> <li>filepath : chemin du fichier compl\u00e9mentaire si import d'un fichier direct sans les autres param\u00e8tres</li> <li>n_rows : nombre de lignes si import limit\u00e9</li> </ul>"},{"location":"Imports/SSR/irha/","title":"RHA","text":"<p>Lecture des fichiers RHA depuis 2011, r\u00e9sum\u00e9s hebdomadaires anonymis\u00e9s.</p>"},{"location":"Imports/SSR/irha/#syntaxe","title":"Syntaxe","text":"<pre><code>irha(\n    finess, \n    annee : int, \n    mois : int, \n    path : str, \n    typi : int = 4, \n    tdiag : bool = True, \n    filepath = \"\", \n    n_rows = None)\n</code></pre>"},{"location":"Imports/SSR/irha/#types-dimports","title":"Types d'imports","text":"<p>Le param\u00e8tre <code>typi</code> permet de choisir le type d'import entre : </p> <p>4 types d'imports (typi)</p> <ul> <li>1 : partie fixe uniquement</li> <li>2 : partie fixe + zones streams actes, das</li> <li>3 : partie fixe + parties variables</li> <li>4 : partie fixe + parties variables + zones streams actes, das</li> </ul> <p>3 est l'import par d\u00e9faut.</p>"},{"location":"Imports/SSR/irha/#parametres","title":"Param\u00e8tres","text":"<ul> <li>finess : le finess juridique du fichier rha</li> <li>annee : l'ann\u00e9e de la p\u00e9riode PMSI</li> <li>mois  : le mois de la p\u00e9riode PMSI</li> <li>path : le repertoire d'acc\u00e8s au fichier</li> <li>typi : le type d'import</li> <li>tdiag : les diagnostics doivent-ils \u00eatre \"rang\u00e9s dans une table unique\"</li> <li>filepath : chemin du fichier rsa si import d'un fichier direct sans les autres param\u00e8tres</li> <li>n_rows : nombre de lignes si import limit\u00e9</li> </ul>"},{"location":"Imports/SSR/irhs/","title":"RHS","text":"<p>Lecture des fichiers RHS depuis 2011, r\u00e9sum\u00e9s hebdomadaires standardis\u00e9s, contenant le d\u00e9tail des r\u00e9sum\u00e9s d'unit\u00e9s m\u00e9dicales hebdomadaires.</p>"},{"location":"Imports/SSR/irhs/#syntaxe","title":"Syntaxe","text":"<pre><code>irhs(\n    finess, \n    annee : int, \n    mois : int, \n    path : str, \n    typi : int = 4, \n    tdiag : bool = True, \n    filepath = \"\", \n    n_rows = None)\n</code></pre>"},{"location":"Imports/SSR/irhs/#types-dimports","title":"Types d'imports","text":"<p>Le param\u00e8tre <code>typi</code> permet de choisir le type d'import entre : </p> <p>4 types d'imports (typi)</p> <ul> <li>1 : partie fixe uniquement</li> <li>2 : partie fixe + zones streams actes, das</li> <li>3 : partie fixe + parties variables</li> <li>4 : partie fixe + parties variables + zones streams actes, das</li> </ul> <p>3 est l'import par d\u00e9faut.</p>"},{"location":"Imports/SSR/irhs/#parametres","title":"Param\u00e8tres","text":"<ul> <li>finess : le finess juridique du fichier rhs</li> <li>annee : l'ann\u00e9e de la p\u00e9riode PMSI</li> <li>mois  : le mois de la p\u00e9riode PMSI</li> <li>path : le repertoire d'acc\u00e8s au fichier</li> <li>typi : le type d'import</li> <li>tdiag : les diagnostics doivent-ils \u00eatre \"rang\u00e9s dans une table unique\"</li> <li>filepath : chemin du fichier rss si import d'un fichier direct sans les autres param\u00e8tres</li> <li>n_rows : nombre de lignes si import limit\u00e9</li> </ul>"},{"location":"Imports/SSR/issrha/","title":"SSRHA","text":"<p>Lecture des fichiers SSRHA depuis 2011, \"suites semestrielles\" de RHA.</p>"},{"location":"Imports/SSR/issrha/#syntaxe","title":"Syntaxe","text":"<pre><code>issrha(\n    finess, \n    annee : int, \n    mois : int, \n    path : str, \n    filepath = \"\", \n    n_rows = None)\n</code></pre>"},{"location":"Imports/SSR/issrha/#parametres","title":"Param\u00e8tres","text":"<ul> <li>finess : le finess juridique du fichier ssrha</li> <li>annee : l'ann\u00e9e de la p\u00e9riode PMSI</li> <li>mois  : le mois de la p\u00e9riode PMSI</li> <li>path : le repertoire d'acc\u00e8s au fichier</li> <li>filepath : chemin du fichier rsa si import d'un fichier direct sans les autres param\u00e8tres</li> <li>n_rows : nombre de lignes si import limit\u00e9</li> </ul>"},{"location":"Imports/tra/itra/","title":"TRA","text":"<p>Lecture des fichiers tra, lien entre le out et le in</p>"},{"location":"Imports/tra/itra/#syntaxe","title":"Syntaxe","text":"<pre><code>itra(\n    finess, \n    annee : int, \n    mois : int, \n    path : str, \n    champ : str, \n    filepath = \"\", \n    n_rows = None)\n</code></pre>"},{"location":"Imports/tra/itra/#types-dimports","title":"Types d'imports","text":"<p>Le param\u00e8tre <code>champ</code> permet de choisir le type de fichier tra entre les diff\u00e9rents champs PMSI parmi :</p> <ul> <li>mco</li> <li>ssr</li> <li>had</li> <li>psy_rpsa</li> <li>psy_r3a </li> </ul>"},{"location":"Imports/tra/itra/#parametres","title":"Param\u00e8tres","text":"<ul> <li>finess : le finess juridique du fichier ano/anohosp</li> <li>annee : l'ann\u00e9e de la p\u00e9riode PMSI</li> <li>mois  : le mois de la p\u00e9riode PMSI</li> <li>path : le repertoire d'acc\u00e8s au fichier</li> <li>champ : le champ PMSI (deux sp\u00e9cifiques pour la psy : psy_rpsa, psy_r3a, had, mco, ssr, had)</li> <li>filepath : chemin du fichier compl\u00e9mentaire si import d'un fichier direct sans les autres param\u00e8tres</li> <li>n_rows : nombre de lignes si import limit\u00e9</li> </ul>"},{"location":"Traitements/statistiques_exemple/","title":"Exemple de statistiques","text":""},{"location":"Traitements/statistiques_exemple/#exemple-sur-les-rsa","title":"Exemple sur les RSA","text":"<pre><code>import polars as pl\nimport pypmsi as pm\n\np = pm.noyau_pmsi(finess = '290000017', \n                  annee = 2022, \n                  mois = 12,\n                  path = '/Users/guillaumepressiat/Documents/data/mco')\nrsa = p.irsa(p)\n# rsa\n</code></pre> <pre><code>(rsa['actes']\n    .filter(pl.col('cdccam').str.contains('EBLA'))\n    .group_by(['cdccam', 'nbexec'])\n    .agg(pl.col('act').len().alias('nb'))    \n)\n</code></pre> <pre><code>shape: (2, 3)\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502 cdccam  \u2506 nbexec \u2506 nb  \u2502\n\u2502 ---     \u2506 ---    \u2506 --- \u2502\n\u2502 str     \u2506 i32    \u2506 u32 \u2502\n\u255e\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u256a\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u256a\u2550\u2550\u2550\u2550\u2550\u2561\n\u2502 EBLA002 \u2506 1      \u2506 2   \u2502\n\u2502 EBLA003 \u2506 1      \u2506 703 \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre> <pre><code>(rsa['actes']\n    .filter(pl.col('cdccam').str.contains('EBLA'))\n    .join(rsa['rsa'], on = 'cle_rsa', how = 'inner')\n    .pivot(index = 'cdccam', values = 'nbexec', on = 'rsatype', aggregate_function = 'sum')\n    .fill_null(0)\n)\n</code></pre> <pre><code>shape: (2, 5)\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502 cdccam  \u2506 C   \u2506 M   \u2506 K   \u2506 Z   \u2502\n\u2502 ---     \u2506 --- \u2506 --- \u2506 --- \u2506 --- \u2502\n\u2502 str     \u2506 i32 \u2506 i32 \u2506 i32 \u2506 i32 \u2502\n\u255e\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u256a\u2550\u2550\u2550\u2550\u2550\u256a\u2550\u2550\u2550\u2550\u2550\u256a\u2550\u2550\u2550\u2550\u2550\u256a\u2550\u2550\u2550\u2550\u2550\u2561\n\u2502 EBLA003 \u2506 52  \u2506 146 \u2506 501 \u2506 4   \u2502\n\u2502 EBLA002 \u2506 1   \u2506 0   \u2506 1   \u2506 0   \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre> <pre><code>(rsa['actes']\n    .filter(pl.col('cdccam').str.contains('EBLA'))\n    .join(rsa['rsa'], on = 'cle_rsa', how = 'inner')\n    .pivot(index = ['rsacmd', 'rsatype'], values = 'nbexec', on = 'cdccam', \n           separator = '-', aggregate_function = 'sum')\n    .fill_null(0)\n)\n</code></pre> <pre><code>shape: (39, 4)\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502 rsacmd \u2506 rsatype \u2506 EBLA003 \u2506 EBLA002 \u2502\n\u2502 ---    \u2506 ---     \u2506 ---     \u2506 ---     \u2502\n\u2502 str    \u2506 str     \u2506 i32     \u2506 i32     \u2502\n\u255e\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u256a\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u256a\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u256a\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2561\n\u2502 15     \u2506 C       \u2506 1       \u2506 0       \u2502\n\u2502 01     \u2506 M       \u2506 6       \u2506 0       \u2502\n\u2502 17     \u2506 M       \u2506 39      \u2506 0       \u2502\n\u2502 16     \u2506 M       \u2506 5       \u2506 0       \u2502\n\u2502 17     \u2506 K       \u2506 1       \u2506 0       \u2502\n\u2502 \u2026      \u2506 \u2026       \u2506 \u2026       \u2506 \u2026       \u2502\n\u2502 18     \u2506 M       \u2506 1       \u2506 0       \u2502\n\u2502 19     \u2506 M       \u2506 1       \u2506 0       \u2502\n\u2502 21     \u2506 C       \u2506 1       \u2506 0       \u2502\n\u2502 11     \u2506 C       \u2506 1       \u2506 1       \u2502\n\u2502 21     \u2506 M       \u2506 1       \u2506 0       \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"Traitements/valo_mco/","title":"Valoriser les RSA comme e-PMSI","text":"<pre><code>import pypmsi as pm\nimport polars as pl\nimport refpymsi as rp\n</code></pre>"},{"location":"Traitements/valo_mco/#parametres-et-lecture-des-donnees","title":"Param\u00e8tres et lecture des donn\u00e9es","text":"<pre><code>p = pm.noyau_pmsi(finess = 290000017, \n              annee  = 2022,\n              mois   = 12,\n              path   = '/Users/guillaumepressiat/Documents/data/mco')\n\nrsa = p.irsa(typi = 4)\n\nvrsa = pm.vvs_rsa(rsa)\nvano = pm.vvs_ano_mco(p.iano_mco())\n</code></pre>"},{"location":"Traitements/valo_mco/#tarifs-ghs-et-supplements","title":"Tarifs ghs et suppl\u00e9ments","text":"<p>On utilise le package refpymsi.</p> <pre><code>tarifs = rp.get_table('tarifs_mco_ghs')\nsupplements = rp.get_table('tarifs_mco_supplements')\n</code></pre>"},{"location":"Traitements/valo_mco/#calculs-de-valorisations","title":"Calculs de valorisations","text":"<pre><code>python_valo_sej = pm.vvs_mco(pm.vvs_ghs_supp(vrsa,\n                                      tarifs, \n                                      supplements, \n                                      bee = False, \n                                      diap = p.idiap_mco(), \n                                      pie = p.ipie_mco(), \n                                      porg = p.ipo()),\n                      pm.vvs_mco_sv(vrsa, \n                                    vano, \n                                    porg = p.ipo())\n          )\n</code></pre>"},{"location":"Traitements/valo_mco/#tableau-sv-sejours-valorises-e-pmsi","title":"Tableau SV - S\u00e9jours valoris\u00e9s e-PMSI","text":"<pre><code>pm.vvs_mco_epmsi_sv(python_valo_sej)\n</code></pre>"},{"location":"Traitements/valo_mco/#tableau-rav-recapitulatif-activite-valorisation-e-pmsi","title":"Tableau RAV - R\u00e9capitulatif Activit\u00e9 valorisation e-PMSI","text":"<pre><code>pm.vvs_mco_epmsi_rav(python_valo_sej)\n</code></pre>"}]}